diff --git a/node_modules/@microsoft/fetch-event-source/package.json b/node_modules/@microsoft/fetch-event-source/package.json
index 8528735..1f409ed 100644
--- a/node_modules/@microsoft/fetch-event-source/package.json
+++ b/node_modules/@microsoft/fetch-event-source/package.json
@@ -9,9 +9,9 @@
   },
   "author": "Microsoft",
   "license": "MIT",
-  "main": "lib/cjs/index.js",
-  "module": "lib/esm/index.js",
-  "types": "lib/cjs/index.d.ts",
+  "main": "src/index.ts",
+  "module": "src/index.ts",
+  "types": "src/index.ts",
   "sideEffects": false,
   "scripts": {
     "clean": "rimraf ./lib ./coverage",
diff --git a/node_modules/@microsoft/fetch-event-source/src/index.ts b/node_modules/@microsoft/fetch-event-source/src/index.ts
index cdcc974..a1352b6 100644
--- a/node_modules/@microsoft/fetch-event-source/src/index.ts
+++ b/node_modules/@microsoft/fetch-event-source/src/index.ts
@@ -1,2 +1,15 @@
-export { fetchEventSource, FetchEventSourceInit, EventStreamContentType } from './fetch';
-export { EventSourceMessage } from './parse';
+export {
+  EventStreamContentType,
+  fetchEventSource,
+  FetchEventSourceInit,
+} from './fetch'
+export { EventSourceMessage } from './parse'
+
+if (typeof self === 'undefined') {
+  Object.defineProperty(global, 'self', {
+    writable: true,
+    enumerable: false,
+    configurable: true,
+    value: global,
+  })
+}
